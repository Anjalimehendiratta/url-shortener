<!DOCTYPE html>
<html>
<head>
  <meta property="og:title" content="Pico - Fast, Scalable URL Shortener & QR Code Generator" />
  <meta property="og:description" content="Experience blazing speed and scalability with Pico,
   the leading URL shortener and QR code application. Ideal for businesses of all sizes, Pico 
   provides quick, reliable, and secure link shortening and QR code 
  generation for streamlined sharing and tracking. Transform your online presence with Pico today!" />
  <meta property="og:image" content="/.well-known/acme-challenge/assets/section-1.png">
  <meta property="og:url" content="https://bysa.ma" />

  <title>Login</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #f2f2f2;
    }

    .container {
      max-width: 400px;
      margin: 0 auto;
      padding: 40px;
      background-color: #fff;
      border-radius: 8px;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
    }

    h1 {
      text-align: center;
      color: #333;
    }

    form {
      margin-top: 20px;
    }

    label {
      display: block;
      font-weight: bold;
      margin-bottom: 8px;
    }

    input[type="text"],
    input[type="password"] {
      width: 100%;
      padding: 10px;
      border: 1px solid #ccc;
      border-radius: 4px;
      margin-bottom: 20px;
    }

    button {
      width: 100%;
      padding: 10px;
      background-color: #4caf50;
      color: #fff;
      border: none;
      border-radius: 4px;
      cursor: pointer;
    }

    button:hover {
      background-color: #45a049;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Login</h1>
    <form id="loginForm">
      <label for="username">Username:</label>
      <input type="text" id="username" name="username" required>
      <label for="password">Password:</label>
      <input type="password" id="password" name="password" required>
      <button type="button" onclick="submitForm()">Log In</button>
    </form>
  </div>

  <script>
    function submitForm() {
      var form = document.getElementById("loginForm");
      var username = form.elements["username"].value;
      var password = form.elements["password"].value;

      var data = {
        "email": username,
        "password": password
      };

      var xhr = new XMLHttpRequest();
      xhr.open("POST", "/login", true);
      xhr.setRequestHeader("Content-Type", "application/json");
      xhr.onreadystatechange = function () {
        if (xhr.readyState === 4 && xhr.status === 200) {
          // Handle the response here
          let value  = xhr.responseText;
          document.cookie = "tokenPayload=" + encodeURIComponent(value) + "; path=/";
          console.log(document.cookie)
          window.location.href = "/";
        }
      };
      xhr.send(JSON.stringify(data));
    }
  </script>
</body>
</html>
